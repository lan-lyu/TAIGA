<!DOCTYPE html>
<html>

<head>
    <title>Search Images</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
    <div class="overlay" id="overlay" style="display: none;"></div>
    <header style="height: 30vh;">
        <div class="header-container">
            <div class="left-aligned">
                <a href="index.html" style="flex-grow: 0.05;">
                    <img src="images/iconBack.png" alt="back" width="25" height="25" />
                </a>
                <h5>This comparison tool is to help you find existing contents and bias generated by Stable Diffusion.
                </h5>
            </div>
            <div class="right-aligned">
                <label class="switch">
                    <script src="js/switchSearchLayout.js"></script>
                    <input type="checkbox" id="switchLayout2" onchange="toggleLayoutBack()" checked>
                    <span class="slider round"></span>
                </label>
                <body1-medium> compare prompts </body1-medium>
                <img src="images/iconQuestion.png" alt="question" width="20" height="28" />
            </div>
        </div>

        <div class="header-container">
            <form id="query-form-3" style="flex-grow: 0.3">
                <div class="search-container">
                    <input type="text" id="search-input-3" placeholder="Search for key terms">
                    <button type="submit" id="search-button"></button>
                </div>
            </form>
            <form id="query-form-4" style="flex-grow: 0.3">
                <div class="search-container">
                    <input type="text" id="search-input-4" placeholder="Search for key terms">
                    <button type="submit" id="search-button"></button>
                </div>
            </form>

            <div class="slider-container" style="flex-grow: 0.3;">
                <div id="slide1" class="slide active">
                    <h5>Here are some text-image pairs others found being harmful:</h5>
                    <img src="images/sidebarExample1.png" />
                    <p> When prompting DALL-E with “A guy with a bow” and “A girl with a bow”, it
                        interprets “bow” as a decorative bow-tie for girls, as opposed to a bow for archery, revealing
                        overly simplistic understandings around girls. </p>
                </div>
                <div id="slide2" class="slide">
                    <h5>Here are some text-image pairs others found being harmful:</h5>
                    <img src="images/sidebarExample2.png" />
                    <p> After being prompted with "an American man and his car" and "an African man and his car," DALL-E
                        generates an image of an American man with a luxurious car, implying a higher social and
                        economic status, while portraying an African man with an old car, indicating a lower social and
                        economic status. </p>
                </div>
                <div id="slide3" class="slide">
                    <h5>Here are some text-image pairs others found being harmful:</h5>
                    <img src="images/sidebarExample3.webp"
                        style="width: 80%; margin-left: auto; margin-right: auto; display: block;" />
                    <p> People could us text-to-image generation models to generate artworks in the style of certain
                        artists without their consent, and use these generated artwork to gain profit or fame, which
                        would cause economic loss to the artist whose style is copied. The “No AI Art” protest on
                        ArtStation reflects this concern. </p>
                    <!-- <a href="https://www.theverge.com/2022/12/23/23523864/artstation-removing-anti-ai-protest-artwork-censorship" style="margin-left: 5%;"> Click to know more</a> -->
                </div>
                <div id="slide4" class="slide">
                    <h5>Here are some text-image pairs others found being harmful:</h5>
                    <img src="images/sidebarExample4-1.png"
                        style="width: 50%; margin-left: auto; margin-right: auto; display: block;" />
                    <img src="images/sidebarExample4-2.png"
                        style="width: 50%; margin-left: auto; margin-right: auto; display: block;" />
                    <p> When prompting Stable Diffusion with the prompt “moon gate,” which is a traditional
                        architectural element in Chinese gardens, the model fails to generate the correct image,
                        possibly due to the lack of representation of objects specific to Chinese culture. This results
                        in minimal utility for the user seeking to generate this specific image. </p>
                </div>
                <div class="controls">
                    <span class="dot active" onclick="currentSlide(1)"></span>
                    <span class="dot" onclick="currentSlide(2)"></span>
                    <span class="dot" onclick="currentSlide(3)"></span>
                    <span class="dot" onclick="currentSlide(4)"></span>
                </div>
            </div>

        </div>

        <p id="topic"></p>

    </header>

    <main>
        <div class="gallery-container" style="width: 70%; margin-right: 35%;">
            <div class="col-container" style="width: 48%; margin-left: 3%;">
                <h5 id="search-in-progress-text-3" style="display: none;"> searching now...<br />don't look away! </h5>
                <div class="gallery" id="search-gallery-3"></div>
            </div>
            <div class="col-container" style="width: 48%; margin-left: -7%;">
                <h5 id="search-in-progress-text-4" style="display: none;"> searching now...<br />don't look away! </h5>
                <div class="gallery" id="search-gallery-4"></div>
            </div>
        </div>

        <script src="js/imageSearchFunc.js"></script>
        <script>
            const form1 = document.querySelector("#query-form-3");
            const form2 = document.querySelector("#query-form-4");

            form1.addEventListener("submit", (event) => {
                searchFunction(event, "3", 10);
            });

            form2.addEventListener("submit", (event) => {
                searchFunction(event, "4", 10);
            });
        </script>
    </main>

    <div class="fixed-add-thread-button">
        <button class="btn-dark" id="add-thread-button" style="font-size: 30px;">
            <!-- <img src="images/iconAddThread.png" alt="Search" width="20", height="20"/> -->
            <span> + New Thread </span>
        </button>

        <div class="popup" id="add-thread-popup" style="display: none;">
            <div class="row-container">
                <div class="left-aligned">
                    <h3>Thread Details</h3>
                </div>
                <div class="right-aligned">
                    <button class="popup-close" id="popup-close-button">Dismiss</button>
                    <button class="btn-dark" id="create-thread"> Create Thread </button>
                </div>
            </div>
            <hr style="color: #DEE4E1; width: 80%; opacity: 0.5;" />
            <div class="row-container" style="padding-top:1%; padding-bottom:1%;">
                <input type="text" style="flex-grow: 0.49" id="thread-title-3" placeholder="  [data] Add Title..." />
                <input type="text" style="flex-grow: 0.49" placeholder="  Add tags here" />
            </div>
            <div class="row-container">
                <input type="text" style="flex-grow: 4; height: 178px;"
                    placeholder="  Type here. Use Markdown, BBCode, or HTML to format. Drag or paste images." />
            </div>
        </div>

        <div class="popup-thread" id="create-thread-popup-1" style="display: none;">
            <div class="row-container">
                <div class="left-aligned">
                    <img src="images/iconBack.png" id="thread-popup-back-1" alt="back" width="17" height="17" />
                    <h3 style="margin-left: 3%;"> Highlight Images</h3>
                    <h5 style="font-size: 12px; margin-left: 4px;">(optional)</h5>
                </div>
                <div class="right-aligned">
                    <h5>Step 1/3</h5>
                </div>
            </div>
            <p class="body-2-regular" style="margin-left: 15%; margin-top:-4%; margin-right: 10%;">
                Select up to 10 images which are most relevant to the identified bias in order to highlight them
                among the results in the thread.
            </p>
            <div class="row-container" style="margin-top: 15%;">
                <div class="gallery" id="thread-gallery-3" style="width: 60%;"></div>
                <div class="gallery" id="thread-gallery-4" style="width: 60%;"></div>
            </div>
            <div class="right-aligned">
                <button class="btn-dark" id="next-button-1" style="margin-top: 3%; margin-right: 10%;"> Next
                </button>
            </div>
        </div>

        <div class="popup-thread" id="create-thread-popup-2" style="display: none;">
            <div class="row-container">
                <div class="left-aligned">
                    <img src="images/iconBack.png" id="thread-popup-back-2" alt="back" width="17" height="17" />
                    <h3 style="margin-left: 3%;">Identify similar threads</h3>
                </div>
                <div class="right-aligned">
                    <h5>Step 2/3</h5>
                </div>
            </div>
            <p class="body-2-regular" style="margin-left: 15%; margin-top:-4%; margin-right: 10%;">
                Select all that are similar to your thread. Taking this step would help viewers easily find related
                things and amplify the effect of your posts.
            </p>
            <img src="images/egThreadStep2.png" alt="placeholder"
                style="width: 80%; margin-left: 10%; margin-top: 1%; margin-right: 10%;" />
            <div class="right-aligned">
                <button class="btn-dark" id="next-button-2" style="margin-top: 3%; margin-right: 10%;"> Next
                </button>
            </div>
        </div>

        <div class="popup-thread" id="create-thread-popup-3" style="display: none;">
            <div class="row-container">
                <div class="left-aligned">
                    <img src="images/iconBack.png" id="thread-popup-back-3" alt="back" width="17" height="17" />
                    <h3 style="margin-left: 3%;">Post Review</h3>
                </div>
                <div class="right-aligned">
                    <h5>Step 3/3</h5>
                </div>
            </div>
            <img src="images/egThreadStep3.png" alt="placeholder"
                style="width: 80%; margin-left: 10%; margin-top: -1%; margin-right: 10%;" />
            <div class="right-aligned">
                <a href="https://forum.weaudit.org/t/daily-comparison-teachers-in-your-lifetime/301"
                    style="margin-top: 3%; margin-right: 10%;">
                    <button class="btn-dark" id="next-button-3"> Next </button>
                </a>
            </div>
        </div>

        <script src="js/threadAddNewFunc.js"></script>
        <script>
            addButtonListener("", 2, "3", "4");
        </script>

    </div>

</body>

<script src="js/sliderSwitch.js"></script>

</html>