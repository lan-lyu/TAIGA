<!DOCTYPE html>
<html>

<head>
    <title>Search Images</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
    <div class="overlay" id="overlay" style="display: none;"></div>
    <header style="height: 30vh;">
        <div class="header-container">
            <div class="left-aligned">
                <a href="index.html" style="flex-grow: 0.05;">
                    <img src="images/iconBack.png" alt="back" width="25" height="25" />
                </a>
                <h5>This comparison tool is to help you find existing contents and bias generated by Stable Diffusion.
                </h5>
            </div>
            <div class="right-aligned">
                <label class="switch">
                    <script src="js/switchSearchLayout.js"></script>
                    <input type="checkbox" id="switchLayout2" onchange="toggleLayoutBack()" checked>
                    <span class="slider round"></span>
                </label>
                <body1-medium> compare prompts </body1-medium>
                <img src="images/iconQuestion.png" alt="question" width="20" height="28" />
            </div>
        </div>

        <div class="header-container">
            <form id="query-form-1" style="flex-grow: 0.5">
                <div class="search-container">
                    <input type="text" id="search-input-1" placeholder="Search for key terms">
                    <button type="submit" id="search-button"></button>
                </div>
            </form>
            <form id="query-form-2" style="flex-grow: 0.5">
                <div class="search-container">
                    <input type="text" id="search-input-2" placeholder="Search for key terms">
                    <button type="submit" id="search-button">
                        <img src="images/iconSearch.png" alt="Search" />
                    </button>
                </div>
            </form>
        </div>

        <p id="topic"></p>

    </header>

    <main>
        <div class="gallery-container">
            <div class="col-container" style="width: 48%; margin-left: 3%;">
                <h5 id="search-in-progress-text-1" style="display: none;"> searching now...<br/>don't look away! </h5>
                <div class="gallery" id="search-gallery-1"></div>
            </div>
            <div class="col-container" style="width: 48%; margin-left: -7%;">
                <h5 id="search-in-progress-text-2" style="display: none;"> searching now...<br/>don't look away! </h5>
                <div class="gallery" id="search-gallery-2"></div>
            </div>
        </div>

        <script src="js/imageSearchFunc.js"></script>
        <script src="js/imageGenerateFunc.js"></script>
        <script>
            const form1 = document.querySelector("#query-form-1");
            const form2 = document.querySelector("#query-form-2");

            form1.addEventListener("submit", (event) => {
                searchFunction(event, "1", 6);
                generateFunction(event, "1", 4);
            });

            form2.addEventListener("submit", (event) => {
                searchFunction(event, "2", 6);
                generateFunction(event, "2", 4);
            });
        </script>
    </main>

    <div class="fixed-add-thread-button">
        <button class="btn-dark" id="add-thread-button" style="font-size: 30px;">
            <!-- <img src="images/iconAddThread.png" alt="Search" width="20", height="20"/> -->
            <span> + New Thread </span>
        </button>

        <div class="popup" id="add-thread-popup" style="display: none;">
            <div class="row-container">
                <div class="left-aligned">
                    <h3>Thread Details</h3>
                </div>
                <div class="right-aligned">
                    <button class="popup-close" id="popup-close-button">Dismiss</button>
                    <button class="btn-dark" id="create-thread"> Create Thread </button>
                </div>
            </div>
            <hr style="color: #DEE4E1; width: 80%; opacity: 0.5;" />
            <div class="row-container" style="padding-top:1%; padding-bottom:1%;">
                <input type="text" style="flex-grow: 0.49" placeholder="  [data] Add Title..." />
                <input type="text" style="flex-grow: 0.49" placeholder="  Add tags here" />
            </div>
            <div class="row-container">
                <input type="text" style="flex-grow: 4; height: 178px;"
                    placeholder="  Type here. Use Markdown, BBCode, or HTML to format. Drag or paste images." />
            </div>
        </div>

        <div class="popup-thread" id="create-thread-popup-1" style="display: none;">
            <div class="row-container">
                <div class="left-aligned">
                    <img src="images/iconBack.png" id="thread-popup-back-1" alt="back" width="17" height="17" />
                    <h3 style="margin-left: 3%;"> Highlight Images</h3>
                    <h5 style="font-size: 12px; margin-left: 4px;">(optional)</h5>
                </div>
                <div class="right-aligned">
                    <h5>Step 1/3</h5>
                </div>
            </div>
            <p class="body-2-regular" style="margin-left: 15%; margin-top:-4%; margin-right: 10%;">
                Select up to 10 images which are most relevant to the identified bias in order to highlight them
                among the results in the thread.
            </p>
            <div class="row-container" style="margin-top: 20%;">
                <div class="gallery" id="thread-gallery-1" style="width: 60%;"></div>
                <div class="gallery" id="thread-gallery-2" style="width: 60%;"></div>
            </div>
            <div class="right-aligned">
                <button class="btn-dark" id="next-button-1" style="margin-top: 3%; margin-right: 10%;"> Next
                </button>
            </div>
        </div>

        <div class="popup-thread" id="create-thread-popup-2" style="display: none;">
            <div class="row-container">
                <div class="left-aligned">
                    <img src="images/iconBack.png" id="thread-popup-back-2" alt="back" width="17" height="17" />
                    <h3 style="margin-left: 3%;">Identify similar threads</h3>
                </div>
                <div class="right-aligned">
                    <h5>Step 2/3</h5>
                </div>
            </div>
            <p class="body-2-regular" style="margin-left: 15%; margin-top:-4%; margin-right: 10%;">
                Select all that are similar to your thread. Taking this step would help viewers easily find related
                things and amplify the effect of your posts.
            </p>
            <img src="images/egThreadStep2.png" alt="placeholder"
                style="width: 80%; margin-left: 10%; margin-top: 1%; margin-right: 10%;" />
            <div class="right-aligned">
                <button class="btn-dark" id="next-button-2" style="margin-top: 3%; margin-right: 10%;"> Next
                </button>
            </div>
        </div>

        <div class="popup-thread" id="create-thread-popup-3" style="display: none;">
            <div class="row-container">
                <div class="left-aligned">
                    <img src="images/iconBack.png" id="thread-popup-back-3" alt="back" width="17" height="17" />
                    <h3 style="margin-left: 3%;">Post Review</h3>
                </div>
                <div class="right-aligned">
                    <h5>Step 3/3</h5>
                </div>
            </div>
            <img src="images/egThreadStep3.png" alt="placeholder"
                style="width: 80%; margin-left: 10%; margin-top: -1%; margin-right: 10%;" />
            <div class="right-aligned">
                <a href="https://forum.weaudit.org/t/daily-comparison-teachers-in-your-lifetime/301"
                    style="margin-top: 3%; margin-right: 10%;">
                    <button class="btn-dark" id="next-button-3"> Next </button>
                </a>
            </div>
        </div>

        <script src="js/threadAddNewFunc.js"></script>
        <script>
            addButtonListener("", 2, "1", "2");
        </script>

    </div>

</body>

</html>