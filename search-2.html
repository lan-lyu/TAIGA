<!DOCTYPE html>
<html>

<head>
    <title>TAIGA:AI Compare</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</head>

<body>
    <div class="overlay" id="overlay" style="display: none;"></div>
    <header style="height: 30vh;">
        <div class="header-container">
            <div class="left-aligned">
                <a href="index.html" style="flex-grow: 0.05;">
                    <img src="images/iconBack.png" alt="back" width="25" height="25" />
                </a>
                <h5>This comparison tool is to help you find existing contents and bias generated by Stable Diffusion.
                </h5>
            </div>
            <div class="right-aligned" style="flex-grow: 0.5;">
                <label class="switch" style="margin-left: 10%;">
                    <script src="js/switchSearchLayout.js"></script>
                    <input type="checkbox" id="switchLayout2" onchange="toggleLayoutBack()" checked>
                    <span class="slider round"></span>
                </label>
                <body1-medium  style="margin-right: -40%;"> compare prompts </body1-medium>
                <label class="switch">
                    <script>
                        function toogleGoogle() {
                            var checkBox = document.getElementById("switchLayout-google-2");
                            if (checkBox.checked == true){
                                window.location.href = "search-2-google.html";
                            }
                        }
                    </script>
                    <input type="checkbox" id="switchLayout-google-2" onchange="toogleGoogle()" unchecked>
                    <span class="slider round"></span>
                </label>
                <body1-medium style="margin-right: -50%;"> google source </body1-medium>
                <img src="images/iconQuestion.png" alt="question" width="20" height="28" />
            </div>
        </div>

        <div class="header-container">
            <form id="query-form-1" style="flex-grow: 0.5">
                <div class="search-container">
                    <input type="text" id="search-input-1" placeholder="Search for key terms">
                    <button type="submit" id="search-button"></button>
                </div>
            </form>
            <form id="query-form-2" style="flex-grow: 0.5">
                <div class="search-container">
                    <input type="text" id="search-input-2" placeholder="Search for key terms">
                    <button type="submit" id="search-button"></button>
                </div>
            </form>
        </div>

        <p id="topic"></p>

    </header>

    <main>
        <div class="gallery-container">
            <div class="col-container" style="width: 48%; margin-left: 3%;">
                <h5 id="search-in-progress-text-1" style="display: none;"> searching now...<br/>don't look away! </h5>
                <div class="gallery" id="search-gallery-1"></div>
            </div>
            <div class="col-container" style="width: 48%; margin-left: -7%;">
                <h5 id="search-in-progress-text-2" style="display: none;"> searching now...<br/>don't look away! </h5>
                <div class="gallery" id="search-gallery-2"></div>
            </div>
        </div>

        <script src="js/imageSearchFunc.js"></script>
        <script>
            const form1 = document.querySelector("#query-form-1");
            const form2 = document.querySelector("#query-form-2");

            form1.addEventListener("submit", (event) => {
                searchFunction(event, "1", 10);
            });

            form2.addEventListener("submit", (event) => {
                searchFunction(event, "2", 10);
            });
        </script>
    </main>

    <div class="fixed-add-thread-button">
        <button class="btn-dark" id="add-thread-button" style="font-size: 30px;">
            <!-- <img src="images/iconAddThread.png" alt="Search" width="20", height="20"/> -->
            <span> + New Thread </span>
        </button>

        <div class="popup" id="add-thread-popup" style="display: none;">
            <div class="row-container">
                <div class="left-aligned">
                    <h3>Thread Details</h3>
                </div>
                <div class="right-aligned">
                    <button class="popup-close" id="popup-close-button">Dismiss</button>
                    <button class="btn-dark" id="create-thread"> Create Thread </button>
                </div>
            </div>
            <hr style="color: #DEE4E1; width: 80%; opacity: 0.5;" />
            <div class="row-container" style="padding-top:1%; padding-bottom:1%;">
                <input type="text" style="flex-grow: 0.49" id="thread-title-1" placeholder="  [data] Add Title..." />
				<select name="tags" style="flex-grow: 0.49" id="thread-tag-1">
					<option value="" disabled selected>Add tags here</option>
					<option value="racial-bias">racial-bias</option>
					<option value="gender-bias">gender-bias</option>
					<option value="age-bias">age-bias</option>
					<option value="lgbtq-bias">lgbtq-bias</option>
					<option value="cultural-bias">cultural-bias</option>
				</select>
            </div>
            <div class="row-container">
                <input type="text" style="flex-grow: 4; height: 178px; font-size: 16px;" id="thread-description-1"
                    placeholder="  Type here. Use Markdown, BBCode, or HTML to format. Drag or paste images." />
            </div>
        </div>

        <div class="popup-thread" id="create-thread-popup-1" style="display: none;">
            <div class="row-container">
                <div class="left-aligned">
                    <img src="images/iconBack.png" id="thread-popup-back-1" alt="back" width="17" height="17" />
                    <h3 style="margin-left: 3%;"> Highlight Images</h3>
                    <h5 style="font-size: 12px; margin-left: 4px;">(optional)</h5>
                </div>
                <div class="right-aligned">
                    <h5>Step 1/3</h5>
                </div>
            </div>
            <p class="body-2-regular" style="margin-left: 15%; margin-top:-4%; margin-right: 10%;">
                Select up to 10 images which are most relevant to the identified bias in order to highlight them
                among the results in the thread.
            </p>
            <div class="row-container" style="margin-top: 15%;">
                <div class="gallery" id="thread-gallery-1" style="width: 60%;"></div>
                <div class="gallery" id="thread-gallery-2" style="width: 60%;"></div>
            </div>
            <div class="right-aligned">
                <button class="btn-dark" id="next-button-1" style="margin-top: 3%; margin-right: 10%;"> Next
                </button>
            </div>
        </div>

        <div class="popup-thread" id="create-thread-popup-2" style="display: none;">
            <div class="row-container">
                <div class="left-aligned">
                    <img src="images/iconBack.png" id="thread-popup-back-2" alt="back" width="17" height="17" />
                    <h3 style="margin-left: 3%;">Identify similar threads</h3>
                </div>
                <div class="right-aligned">
                    <h5>Step 2/3</h5>
                </div>
            </div>
            <p class="body-2-regular" style="margin-left: 15%; margin-top:-4%; margin-right: 10%;">
                Select all that are similar to your thread. Taking this step would help viewers easily find related
                things and amplify the effect of your posts.
            </p>
            <img src="images/egThreadStep2.png" alt="placeholder"
                style="width: 80%; margin-left: 10%; margin-top: 1%; margin-right: 10%;" />
            <div class="right-aligned">
                <button class="btn-dark" id="next-button-2" style="margin-top: 3%; margin-right: 10%;"> Next
                </button>
            </div>
        </div>

        <div class="popup-thread" id="create-thread-popup-3" style="display: none;">
            <div class="row-container">
                <div class="left-aligned">
                    <img src="images/iconBack.png" id="thread-popup-back-3" alt="back" width="17" height="17" />
                    <h3 style="margin-left: 3%;">Post Review</h3>
                </div>
                <div class="right-aligned">
                    <h5>Step 3/3</h5>
                </div>
            </div>
            <div style="width:80%;  height:540px; margin-left: 10%; border:1px solid #dddddd;">
				<h4 id="thread-preview-title-1"  style="width: 80%; margin-left: 6%; margin-top: 2%; margin-right: 10%;"> Sterotype against female </h4>
				<h6 id="thread-preview-tag-1" style="width: 80%; margin-left: 6%; margin-top: -4%; margin-right: 10%;"> <span style="background-color: #DEE4E1;"> gender-bias </span></h6>
				<hr style="margin-left: 6%; margin-right: 6%; margin-top: -2%; border:1px solid #dddddd;"/>
				<h6 id="thread-preview-description-1" style="width: 80%; margin-left: 6%;"> I noticed some unfainess in the comparison. </h6>
                <div class="row-container" style="margin-top: 15%; margin-left: 10%;">
                    <div class="gallery" id="thread-preview-gallery-1"></div>
                    <div class="gallery" id="thread-preview-gallery-2"></div>
                </div>
			</div>
            <div class="right-aligned">
                <a href="https://forum.weaudit.org/t/daily-comparison-teachers-in-your-lifetime/301"
                    style="margin-top: 3%; margin-right: 10%;">
                    <button class="btn-dark" id="next-button-3"> Next </button>
                </a>
            </div>
        </div>

        <script src="js/threadAddNewFunc.js"></script>
        <script>
            addButtonListener("", 2, "1", "2");
        </script>

    </div>

</body>

</html>
